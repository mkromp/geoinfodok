<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<title>Die Kodierung des NAS-Schemas</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="sect1">
<h2 id="nasschema">Die Kodierung des NAS-Schemas</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In <a href="#aaareferenzmodell">[aaareferenzmodell]</a> sind die Grundlagen und Zusammenhänge für die mit dieser Dokumentation zu beschreibenden Geoinformationen erläutert. Das dort festgelegte Referenzmodell stellt unter anderem auch den Bedarf für den Datenaustausch dar. Soweit es erforderlich ist, den Datenaustausch als AdV-Standard einheitlich zu definieren, enthält dieses Kapitel die Festlegungen zu den zu verwendenden Austauschschnittstellen. Die in der Folge aufgeführten XML-Schemadateien sind im GDI-DE-Schema-Repository unter <a href="http://repository.gdi-de.org/schemas/adv/nas/" class="bare">http://repository.gdi-de.org/schemas/adv/nas/</a> verfügbar.</p>
</div>
<div class="sect2">
<h3 id="nasschema_nas">Normbasierte Austauschschnittstelle (NAS)</h3>
<div class="paragraph">
<p>Die Normbasierte Austauschschnittstelle (NAS) wird verwendet, wenn Geoinformationen ausgetauscht werden sollen, die im gemeinsamen AFIS-ALKIS-ATKIS-Anwendungsschema modelliert wurden. Dabei kann es sich um Informationen handeln, die in ihrer Struktur den gespeicherten Datenbeständen, einschließlich der Zusatzdaten (Präsentationsobjekte, Kartengeometrieobjekte, vgl. <a href="#aaareferenzmodell">[aaareferenzmodell]</a>) entsprechen, oder um Ausgaben auf Basis dieser Bestandsdaten (Bestandsdatenauszug, NBA).</p>
</div>
<div class="paragraph">
<p>Informationen aus daraus abgeleiteten Sichten auf diese Datenbestände (z.B. AFIS-, ALKIS-, oder ATKIS-spezifische Ausgabeobjektarten) werden über ein eigenes XML Schema kodiert.</p>
</div>
<div class="paragraph">
<p>Dasselbe gilt unverändert für die weiteren Kataloge (Objektartenkatalog und Signaturenkatalog), für die ebenfalls XML Schemata spezifiziert sind. Die GeoInfoDok macht jedoch keine Vorgaben zur Kodierung von Datenbeständen, bei denen der Objektbezug völlig verloren geht (z.B. rein graphisch strukturierte Daten) oder Daten, die nach einem anderen Basisschema zu definieren sind (z.B. DXF-Daten).</p>
</div>
<div class="paragraph">
<p>Entsprechend wird sie dort eingesetzt, wo der Anwendungsschwerpunkt nach Anforderung des Nutzers auf</p>
</div>
<div class="ulist">
<ul>
<li>
<p>der Originalität der Daten,</p>
</li>
<li>
<p>der vollen Auswertbarkeit und</p>
</li>
<li>
<p>der differenzierten Fortführbarkeit</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>liegt.</p>
</div>
</div>
<div class="sect2">
<h3 id="nasschema_normen_standards">Normen und Standards</h3>
<div class="paragraph">
<p>Die Standards AFIS, ALKIS und ATKIS der AdV sind in dieser Dokumentation in konzeptueller Form auf der Grundlage der Norm ISO 19109 <em>Rules for Application Schema</em> beschrieben. Dies bedeutet insbesondere:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Modellierung in UML, derzeit mit dem Softwarewerkzeug <em>Enterprise Architect,</em></p>
</li>
<li>
<p>Einhaltung der Regelungen von ISO/TS 19103 und ISO 19109 für die Verwendung von UML,</p>
</li>
<li>
<p>Verwendung von ISO 19107 (und damit implizit auch ISO 19111), ISO 19115-1, und ISO 19123 sowie</p>
</li>
<li>
<p>Automatisierte Ableitung und Darstellung der Objektartenkataloge gemäß ISO 19110.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Die automatisierte Ableitung der Schnittstelle für den Austausch von AFIS-, ALKIS- und ATKIS-Objekten, die NAS, vervollständigt dieses Bild.</p>
</div>
<div class="paragraph">
<p>ISO 19118 <em>Encoding</em> definiert zu diesem Zweck u.a. ein Rahmenwerk für die Erstellung von so genannten <em>Encoding Rules</em> zur Ableitung von Schnittstellen-Definitionen für den Datenaustausch aus einem UML-Anwendungsschema. Das in ISO 19118 Kapitel 8 definierte Rahmenwerk für <em>Encoding Rules</em> wird für die NAS angewendet (Level-1-Konformität mit ISO 19118).</p>
</div>
<div class="paragraph">
<p>Für die NAS wird ein zweistufiger Codierungsprozess angewandt (siehe <a href="#img_51">Figure 1</a>):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Im ersten Schritt wird aus dem konzeptuellen, implementierungs­plattform­unabhängigen AAA-Anwendungsschema skriptgestützt ein Implementierungs­schema in UML für ein GML-Anwendungsschema abgeleitet. Alle Elemente des Implementierungsschemas sind zu den Vorgaben aus ISO 19136 Annex E oder - im Falle von Metadatenelementen - zu ISO/TS 19139 konform. ISO 19136 ist identisch mit dem OGC Standard <em>Geography Markup Language</em>, kurz GML.</p>
</li>
<li>
<p>Im zweiten Schritt wird das Implementierungsschema nach den Encoding Rules von ISO 19136 Annex E mit den Erweiterungen nach GML 3.3 Kapitel 12 und - im Falle von Metadatenelementen - ISO/TS 19139 in ein GML Anwendungsschema überführt.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Hierbei wird darauf zurückgegriffen, dass die im AAA-Anwendungsschema verwendeten Typen aus ISO/TS 19103, ISO 19107, ISO 19111 und ISO 19123 durch ISO 19136 (GML) und dem darauf aufbauenden GML Application Schema - Coverages in standardisierter XML-Schema-Implementierung vorliegen. Für ISO 19115-1 liegt derzeit noch keine standardisierte Codierung vor und es wird unverändert das XML Schema aus ISO/TS 19139 verwendet, was bei der geringfügigen Nutzung von ISO 19115-1 keine konzeptuellen Probleme bedeutet.</p>
</div>
<div id="img_51" class="imageblock">
<div class="content">
<img src="media/image51.png" alt="media/image51" width="538" height="369">
</div>
<div class="title">Figure 1. Zweistufiger Ableitungsprozess der NAS</div>
</div>
<div class="paragraph">
<p>Da das AAA-Anwendungsschema und somit auch die NAS neben der Codierung von Fachobjekten auch Operationen auf einem System zur Haltung von Bestandsdaten umfasst (Fortführen, Einrichten, Sperren/Entsperren von Objekten, Reservieren von Fachkennzeichen, Erfragen von Ausgabeprodukten einschließlich der Nutzerbezogenen Bestandsdatenaktualisierung), werden die GML-Objektarten unter Verwendung von Elementen der zu GML komplementären OGC-Spezifikationen Web Feature Service (WFS) und Filter Encoding Standard (FES) in entsprechende, grundsätzlich Web-Service-fähige, Operationen eingebettet. In diesem Sinne ist eine AFIS-ALKIS-ATKIS-Datenhaltung mit einem gekapselten Web Feature Server zu vergleichen, der zusätzlich AFIS-ALKIS-ATKIS-spezifische Anforderungen berücksichtigt.</p>
</div>
<div class="paragraph">
<p>Gemäß den in <a href="#basisschema_modellierung">[basisschema_modellierung]</a> genannten Grundlagen verfolgt die AdV mit der Implementierung von AFIS, ALKIS und ATKIS das Ziel, Grundlagen für die gemeinsame, ganzheitliche und fachübergreifende Nutzung von Geodaten zu schaffen. In diesem Sinne soll soweit wie möglich auf bestehende oder absehbare Standardfunktionalitäten von Anwendungssoftware zurückgegriffen werden.</p>
</div>
<div class="paragraph">
<p>In der NAS wird entsprechend auf die Spezifikation von AdV-spezifischen Lösungen für das Codieren von Daten soweit wie möglich verzichtet. Da die internationalen Standards an einigen Stellen für die speziellen Anforderungen der AdV präzisiert werden müssen, ist der Einsatz des Web Feature Service und Filter Encoding nur mit AFIS-ALKIS-ATKIS-spezifischen Erweiterungen möglich.</p>
</div>
<div class="paragraph">
<p>Es ist wichtig festzuhalten, dass das plattformunabhängige, konzeptuelle Modell im AAA-Anwendungsschema vollständig beschrieben ist. Bei der Abbildung auf spezifische Implementierungsmodelle (wie z.B. XML-Repräsentierungen) werden auch zukünftig Anpassungen an den IT/GI-Mainstream erforderlich werden.</p>
</div>
<div class="paragraph">
<p>Über die genannten Normen der Normfamilie ISO 19100 hinaus werden zur Definition der NAS folgende Standards herangezogen (siehe <a href="#referenzen">[referenzen]</a> für die genauen Quellen):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Unified Modeling Language</p>
</li>
<li>
<p>XML</p>
</li>
<li>
<p>XML Schema</p>
</li>
<li>
<p>XLink</p>
</li>
<li>
<p>XPath</p>
</li>
<li>
<p>OGC Web Feature Service</p>
</li>
<li>
<p>OGC Filter Encoding</p>
</li>
<li>
<p>OGC Web Services Common Specification</p>
</li>
<li>
<p>OGC Geography Markup Language — Extended schemas and encoding rules</p>
</li>
<li>
<p>OGC GML Application Schema - Coverages</p>
</li>
</ul>
</div>
<div id="img_52" class="imageblock">
<div class="content">
<img src="media/image52.png" alt="media/image52" width="466" height="244">
</div>
<div class="title">Figure 2. Einbettung der NAS in Normen und Standards</div>
</div>
<div class="paragraph">
<p>Dadurch, dass GML-Anwendungsschemata auf standardisierte XML-Komponenten, z.B. für Geometrietypen, zurückgreifen und es in GML Regeln gibt, wie XML Schema bei der Definition eines Anwendungsschemas zu verwenden ist, kann auch generische GML-Software - sofern sie die verwendeten XML-Komponenten implementiert hat - durch Analyse des GML-Anwendungsschemas der NAS AFIS-ALKIS-ATKIS-Objekte grundsätzlich verarbeiten und syntaktisch interpretieren. Dies gilt auch dann, wenn die Software zuvor kein Wissen über die NAS und AFIS-ALKIS-ATKIS besessen hat.</p>
</div>
<div class="paragraph">
<p>Mit dem von der NAS verwendeten <strong>GML-Profil</strong> werden aus diesem Grunde auch Anforderungen an die Fähigkeiten von Software spezifiziert und dokumentiert. Bei der Festlegung des Profils wurde auch die Zielsetzung berücksichtigt, dass dieses Profil auch über AFIS, ALKIS und ATKIS hinaus Anwendungsanforderungen abdecken soll und sich von einer AdV-internen Festlegung zu einer breiter akzeptierten Festlegung entwickelt.</p>
</div>
<div class="paragraph">
<p>Durch die Spezifikation der NAS in Form von Operationen auf einer Bestandsdatenhaltung und nicht als reines "Datenformat" sind die GML-Objekte in der NAS i.d.R. in die XML-Elemente der Operationsaufrufe und -ergebnisse eingebettet. Im Fall des Bestandsdatenauszugs zum Beispiel ist die Menge der GML-Objekte, d.h. das GML-Dokument, in das NAS-Ergebnisdokument eingebettet und kann aus diesem auf einfache Weise erkannt und extrahiert werden.</p>
</div>
</div>
<div class="sect2">
<h3 id="nasschema_kodierung">Kodierungsprozess</h3>
<div class="paragraph">
<p>Die Norm ISO 19118 beschreibt den durchzuführenden Kodierungs- und Dekodierungsprozess in allgemeiner Form folgendermaßen:</p>
</div>
<div id="img_53" class="imageblock">
<div class="content">
<img src="media/image53.png" alt="media/image53" width="526" height="264">
</div>
<div class="title">Figure 3. XML-basierende Kodierungsregeln gemäß ISO 19118</div>
</div>
<div class="paragraph">
<p>Der Prozess geht dabei von folgenden Rahmenbedingungen aus:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Es existiert ein formal (z.B. in UML) beschriebenes Anwendungsschema.</p>
</li>
<li>
<p>Auf der Basis von Umwandlungsregeln (Schema Conversion Rules) und ggf. Steueranweisungen bzw. -parametern werden die Informationen des UML-Anwendungsschemas in eine oder mehrere XML-Schemadateien überführt.</p>
</li>
<li>
<p>In gleicher Weise werden die auf dem Anwendungsschema beruhenden Anwendungsdaten (Objekt-Instanzen) mit Hilfe von Umwandlungsregeln (Instance Conversion Rules) in eine XML-Datei überführt, die in ihrem Aufbau den Definitionen der XML-Schema-Datei entspricht.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Im Kontext der NAS wird die Umwandlung des AAA-Anwendungsschemas (UML) in das GML Anwendungsschema der NAS (XML Schema) mit den folgenden Mitteln durchgeführt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Umwandlung des Anwendungsschemas mit dem NAS-Tool in das Implementierungsschema (unter Verwendung der Java-Klasse NasTransformer_7)</p>
</li>
<li>
<p>Anwendung der Encoding Rules mit dem Open-Source-Tool ShapeChange über das NAS-Tool und Erzeugung der NAS-Schemadateien.</p>
<div class="ulist">
<ul>
<li>
<p>Die ShapeChange Konfigurationsdatei wurde hierzu an die AAA-spezifischen Modellrahmenbedingungen angepasst.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="nasschema_encrules">NAS Encoding Rules</h3>
<div class="paragraph">
<p>Im Folgenden werden die "NAS Encoding Rules" beschrieben. Die Struktur erfüllt die Anforderungen aus ISO 19118 Kapitel 8 und richtet sich zur einfachen Vergleichbarkeit an ISO 19118 Annex A aus.</p>
</div>
<div class="paragraph">
<p>ISO 19118 legt in Kapitel 8 Anforderung an Encoding Rules fest. Eine Encoding Rule beschreibt Abbildungsregeln mit denen Daten aus einer Eingangsdatenstruktur (Instanzen gemäß dem AAA-Anwendungsschema in <em>Enterprise Architect</em>) in eine Ausgabedatenstruktur (XML-Datei gemäß NAS) überführt werden können. Eine Encoding Rule deckt folgende Themen ab:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Voraussetzungen</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Anwendungsschema</p>
</li>
<li>
<p>Zeichensatz und unterstützte Sprachen</p>
</li>
<li>
<p>Austausch-Metadaten (<em>exchange metadata)</em></p>
</li>
<li>
<p>Identifikatoren</p>
</li>
<li>
<p>Updatemechanismen</p>
</li>
</ol>
</div>
</li>
<li>
<p>Eingangsdatenstruktur</p>
</li>
<li>
<p>Ausgabedatenstruktur</p>
</li>
<li>
<p>Abbildungsregeln</p>
</li>
<li>
<p>Beispiele</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="nasschema_encrules_voraussetzungen">Voraussetzungen</h4>
<div class="paragraph">
<p><strong>Anwendungsschema</strong></p>
</div>
<div class="paragraph">
<p>Das AAA-Anwendungsschema wurde auf der Basis der Regeln für Anwendungsschemata aus ISO/TS 19103 und ISO 19109 entwickelt.</p>
</div>
<div class="paragraph">
<p>Zur größeren Klarheit werden im Anwendungsschema die folgenden zusätzlichen Stereotypen verwendet:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>«FeatureType» im Sinne der Definition in ISO 19136 Annex E,</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Zusätzlich werden UML Tagged Values wie in ISO 19136 E.2.1 spezifiziert im Modell verwendet sowie zwei weitere UML Tagged Values "xsdEncodingRule" und "reverseRoleNAS" unterstützt. Hierbei gelten die folgenden Regeln:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>version, targetNamespace und xmlns: aktuelle Werte gemäß der Version des AAA-Anwendungsschemas, nur im AAA-Anwendungsschema-Paket</p>
</li>
<li>
<p>gmlProfileSchema: Verweis auf die Datei des GML-Profils, nur im AAA-Anwendungsschema-Paket</p>
</li>
<li>
<p>xsdDocument: Dateiname der XML-Schema-Datei, wird neben dem AAA-Anwendungsschema-Paket auch bei den Paketen des AAA-Basisschema, des AAA-Fachschema und der NAS-Operationen gesetzt</p>
</li>
<li>
<p>Bei Klassen werden die folgenden UML Tagged Values gesetzt:</p>
<div class="ulist">
<ul>
<li>
<p>noPropertyType: "true" bei «FeatureType»; "false" bei «DataType» und «Union»</p>
</li>
<li>
<p>byValuePropertyType: "false" bei «FeatureType», «DataType» und «Union&gt;</p>
</li>
<li>
<p>isCollection: "false" bei «FeatureType», «DataType» und «Union&gt;</p>
</li>
<li>
<p>asDictionary: "true", nur bei «CodeList»</p>
</li>
</ul>
</div>
</li>
<li>
<p>Bei Attributen und Assoziationsrollen werden die folgenden Tagged Values gesetzt:</p>
<div class="ulist">
<ul>
<li>
<p>sequenceNumber</p>
</li>
<li>
<p>inlineOrByReference: "byReference" bei «FeatureType»-wertigen Eigenschaften, sonst "inline"</p>
</li>
<li>
<p>isMetadata: "true" bei allen Qualitätsangaben, sonst "false"; zu Qualitätsangaben werden alle Typen gezählt, die mit einer der folgenden Zeichenketten beginnen: "LI_", "DQ_", "AX_DQ", "AX_LI"</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Zeichensatz und unterstützte Sprachen</strong></p>
</div>
<div class="paragraph">
<p>Wie in ISO 19118 A.2.3 spezifiziert, soll grundsätzlich der <em>Universal Character Set</em> (UCS) von "ISO-10646-1" als Zeichenvorrat verwendet werden. Dieser ist identisch mit dem <em>Unicode Character Repertoire.</em></p>
</div>
<div class="paragraph">
<p>Als <em>Character Encoding</em> für NAS-Daten soll einheitlich "UTF-8" (<em>UTF = UCS Transformation Format</em>) verwendet werden. "UTF-8" ist auch der Standardwert in XML, falls eine Encoding-Angabe fehlt. Gemäß der Vorgaben des IT-Planungsrates [KOSIT-01] wird eine Teilmenge von Unicode als Zeichensatz verwendet.</p>
</div>
<div class="paragraph">
<p>Sprache ist Deutsch ("de") oder Sorbisch (Niedersorbisch bzw. Obersorbisch).</p>
</div>
<div class="paragraph">
<p><strong>Exchange Metadata</strong></p>
</div>
<div class="paragraph">
<p>Im Zuge der Modellierung der Aufträge und Ergebnisse werden jeweils die erforderlichen Exchange Metadata modelliert und mit der automatischen Umsetzung nach XML Schema überführt.</p>
</div>
<div class="paragraph">
<p><strong>Identifikatoren</strong></p>
</div>
<div class="paragraph">
<p>Identifikatoren sind in der NAS nur auf der Ebene der Fachobjekte definiert, d.h. in allen XML-Elementen, die Typen repräsentieren, welche eine Unterklasse von AA_Objekt sind. Bei diesen sind die Identifikatoren stets anzugeben (mit Ausnahme der weiter unten definierten Fälle). Identifikatoren an allen übrigen Elementen werden überlesen und nicht beachtet.</p>
</div>
<div class="paragraph">
<p>Die Identifikatoren an Fachobjekten sind stets im Sinne von UUIDs zu verstehen, d.h. sie sind innerhalb der "<em>AFIS-ALKIS-ATKIS-Application-Domain</em>" eindeutig.</p>
</div>
<div class="paragraph">
<p>Der AAA-Identifikator besteht stets aus 16 Zeichen. Der Aufbau wird in <a href="#basisschema_aaa_oids">[basisschema_aaa_oids]</a> beschrieben.</p>
</div>
<div class="paragraph">
<p><strong>Updatemechanismen</strong></p>
</div>
<div class="paragraph">
<p>Ein Updatemechanismus im Sinne von ISO 19118 Kapitel 8 wird über die NAS-Operationen unterstützt.</p>
</div>
</div>
<div class="sect3">
<h4 id="nasschema_encrules_input">Eingangsdatenstruktur</h4>
<div class="paragraph">
<p>Das AAA-Anwendungsschema verwendet einige Konstruktionen in UML, die in den Abbildungsregeln von ISO 19136 Annex E, GML 3.3 Kapitel 12 und ISO/TS 19139 nicht unterstützt werden, bzw. die für die Codierung vereinfacht werden sollen. Daher erfolgt eine skriptgestützte Umsetzung des konzeptuellen AAA-Anwendungsschemas in UML in ein Implementierungsschema (siehe oben <mark><strong>TBD:</strong> Genaue Referenz?</mark>). Hierzu wird ein neues Paket "NAS" als Kopie des Pakets "AFIS-ALKIS-ATKIS Anwendungsschema" angelegt und transformiert.</p>
</div>
<div class="paragraph">
<p>Das Skript nimmt die folgenden Änderungen vor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Multiple Vererbung: Weder ISO 19136 / GML 3.3 noch ISO/TS 19139 unterstützen in den Abbildungsregeln multiple Vererbung, das AAA-Modell verwendet diese jedoch in Mixin-Klassen (z.B. AP_GPO, AX_Katalogeintrag). Die Mixin-Klassen werden aufgelöst:</p>
<div class="ulist">
<ul>
<li>
<p>Alle Attribute werden in die nächsten in der NAS codierten Subtypen kopiert.</p>
</li>
<li>
<p>Alle Relationen zu den Mixin-Klassen werden ebenfalls jeweils auf die nächsten in der NAS codierten Subtypen kopiert. Dabei wird der Rollenname durch Anhängen des Klassennamens geändert, um die Eindeutigkeit der Eigenschaftsnamen zu gewährleisten.</p>
</li>
<li>
<p>Die «Type»-Klassen werden gelöscht.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Nicht navigierbare Assoziationsrollen werden</p>
<div class="ulist">
<ul>
<li>
<p>navigierbar gesetzt</p>
</li>
<li>
<p>sofern nicht vorhanden mit dem Namen "inversZu_" und den Namen der inversen Rolle versehen</p>
</li>
<li>
<p>mit einer minimalen Kardinalität von "0" versehen</p>
</li>
<li>
<p>der UML Tagged Value "reverseRoleNAS" wird auf "true" gesetzt</p>
</li>
</ul>
</div>
</li>
<li>
<p>Die Modellelemente, die Inhalte besitzen, die nicht in die NAS umgesetzt werden, werden bei der Ableitung des Implementierungsmodells für den Datenaustausch entfernt.</p>
<div class="ulist">
<ul>
<li>
<p>Pakete:</p>
<div class="ulist">
<ul>
<li>
<p>"AAA Versionierungsschema"</p>
</li>
</ul>
</div>
</li>
<li>
<p>Attribute:</p>
<div class="ulist">
<ul>
<li>
<p>"AA_Objekt.identifikator"</p>
</li>
</ul>
</div>
</li>
<li>
<p>Klassen:</p>
<div class="ulist">
<ul>
<li>
<p>"AA_ObjektOhneRaumbezug"</p>
</li>
<li>
<p>"AX_Fortfuehrung"</p>
</li>
<li>
<p>"AX_Datenbank"</p>
</li>
<li>
<p>"AX_Operation_Datenbank"</p>
</li>
<li>
<p>"AX_TemporaererBereich"</p>
</li>
<li>
<p>"AX_NeuesObjekt"</p>
</li>
<li>
<p>"AX_GeloeschtesObjekt"</p>
</li>
<li>
<p>"AX_AktualisiertesObjekt"</p>
</li>
<li>
<p>"AX_Fortfuehrungsobjekt"</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Die Modellelemente, die Inhalte besitzen, die auf spezifische Weise in die NAS umgesetzt werden sollen, werden entsprechend angepasst:</p>
<div class="ulist">
<ul>
<li>
<p>Die Eigenschaften von AA_PMO und AA_Objekt werden wie bei Mixin-Klassen (siehe oben <mark><strong>TBD:</strong> Genaue Referenz?</mark>) auf "AD_PunktCoverage" und "AD_GitterCoverage" übertragen, die konzeptuellen Attribute "AA_PMO.ausdehnung", "AD_PunktCoverage.geometrie" und "AD_PunktCoverage.werte" gelöscht. Zusätzlich werden Vererbungsbeziehungen auf "CV_DiscreteGridPointCoverage" bzw. "CV_DiscretePointCoverage" gesetzt.</p>
</li>
<li>
<p>Die folgenden Typen erhalten ein neues Attribut und werden von den konzeptuellen Typen (TS-Klassen) entkoppelt:</p>
<div class="ulist">
<ul>
<li>
<p>"TA_PointComponent.position : GM_Point"</p>
</li>
<li>
<p>"TA_CurveComponent.position : GM_Curve"</p>
</li>
<li>
<p>"TA_SurfaceComponent.position : GM_Surface"</p>
</li>
<li>
<p>"TA_MultiSurfaceComponent.position : GM_Object" (die Werte müssen entweder GM_Surface oder GM_MultiSurface sein)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Die Assoziation mit der Rolle "TA_MultiSurfaceComponent.masche" wird entsprechend gelöscht.</p>
</li>
<li>
<p>Die folgenden Attribute erhalten einen neuen Typ:</p>
<div class="ulist">
<ul>
<li>
<p>"AU_Punkthaufenobjekt.position : GM_MultiPoint"</p>
</li>
<li>
<p>"AU_KontinuierlichesLinienobjekt.position : GM_Curve"</p>
</li>
<li>
<p>"AU_Flaechenobjekt.position : GM_Object"</p>
</li>
<li>
<p>"AG_Flaechenobjekt.position : GM_Object"</p>
</li>
<li>
<p>"AG_Punktobjekt.position : GM_Point"</p>
</li>
<li>
<p>"AU_Objekt.position : GM_Object"</p>
</li>
<li>
<p>"AG_Objekt.position : GM_Object"</p>
</li>
<li>
<p>"AU_GeometrieObjekt_3D.position : GM_Object"</p>
</li>
<li>
<p>"AU_MehrfachLinienObjekt_3D.position : GM_Object"</p>
</li>
<li>
<p>"AU_MehrfachFlaechenObjekt_3D.position : GM_Object"</p>
</li>
<li>
<p>"AU_UmringObjekt_3D.position : GM_MultiCurve"</p>
</li>
<li>
<p>"AU_PunkthaufenObjekt_3D.position : GM_MultiPoint"</p>
</li>
<li>
<p>"AP_TransformationsMatrix_3D.parameter : doubleList"</p>
</li>
<li>
<p>"AX_DQOhneDatenerhebung.herkunft : LI_Lineage"</p>
</li>
<li>
<p>"AX_DQMitDatenerhebung.herkunft : LI_Lineage"</p>
</li>
<li>
<p>"AX_DQErhebung3D.herkunft3D : LI_Lineage "</p>
</li>
<li>
<p>"AX_DQPunktort.herkunft : LI_Lineage"</p>
</li>
<li>
<p>"AX_DQDachhoehe.herkunft : LI_Lineage"</p>
</li>
<li>
<p>"AX_DQBodenhoehe.herkunft : LI_Lineage"</p>
</li>
<li>
<p>"AX_Schwereanomalie_Schwere.wert : Measure"</p>
</li>
<li>
<p>"AX_DQSchwere.genauigkeitswert : Measure"</p>
</li>
<li>
<p>"AX_Schwere.schwerewert : Measure"</p>
</li>
<li>
<p>"AX_VertikalerSchweregradient.genauigkeitVertikalerSchweregradient : Measure"</p>
</li>
<li>
<p>"AX_VertikalerSchweregradient.wertVertikalerSchweregradient : Measure"</p>
</li>
<li>
<p>"AX_Leitung.spannungsebene : Measure"</p>
</li>
<li>
<p>"AX_Sperrauftrag.uuidListe : URI"</p>
</li>
<li>
<p>"AX_Entsperrauftrag.uuidListe : URI"</p>
</li>
<li>
<p>"ExceptionFortfuehrung.bereitsGesperrteObjekte : URI"</p>
</li>
<li>
<p>"ExceptionFortfuehrung.nichtMehrAktuelleObjekte : URI"</p>
</li>
<li>
<p>"ExceptionAAAFortfuehrungOderSperrung.bereitsGesperrteObjekte : URI"</p>
</li>
<li>
<p>"ExceptionAAAFortfuehrungOderSperrung.nichtMehrAktuelleObjekte : URI"</p>
</li>
<li>
<p>"ExceptionAAAEntsperren.uuidListe : URI"</p>
</li>
<li>
<p>"DCP.HTTP : URI"</p>
</li>
<li>
<p>"DCP.email : URI"</p>
</li>
<li>
<p>"AX_Fortfuehrungsergebnis.fortfuehrungsnachweis : Any"</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Der Datentyp wird im Implementierungsschema der NAS auf "Any" geändert (dies wird in GML zu gml:AbstractObject), da der in den NAS nur nachrichtlich referenzierte Fortführungsnachweis im Ausgabekatalog spezifiziert ist und dieser separat versioniert wird. Dies verhindert, dass NAS und das Implementierungsschema des Ausgabekatalog wechselseitig voneinander abhängig sind. Alle Werte des Attributs "fortfuehrungsnachweis" müssen eine Kodierung von AX_Fortfuehrungsnachweis aus einer von der AdV veröffentlichten Version des Implementierungsschemas des Ausgabekatalogs sein.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Verweise in den Projektsteuerungskatalog werden als XLink-Verweis realisiert (über MapEntries in der ShapeChange-Konfiguration der NAS):</p>
<div class="ulist">
<ul>
<li>
<p>"AA_Antrag.art : AA_Antragsart"</p>
</li>
<li>
<p>"AA_Projektsteuerung.art : AA_Projektsteuerungsart"</p>
</li>
<li>
<p>"AA_Vorgang.art : AA_Vorgangsart"</p>
</li>
<li>
<p>"AA_Aktivitaet.art : AA_Aktivitaetsart"</p>
</li>
</ul>
</div>
</li>
<li>
<p>Die Klassen des Projektsteuerungskatalogs werden gelöscht:</p>
<div class="ulist">
<ul>
<li>
<p>"AA_Antragsart"</p>
</li>
<li>
<p>"AA_Projektsteuerungsart"</p>
</li>
<li>
<p>"AA_Vorgangsart"</p>
</li>
<li>
<p>"AA_Aktivitaetsart"</p>
</li>
<li>
<p>"AA_Projektsteuerungskatalog"</p>
</li>
<li>
<p>"AA_AktivitaetInVorgang"</p>
</li>
<li>
<p>"AA_VorgangInProzess"</p>
</li>
<li>
<p>"AA_Dokumentationsbedarf"</p>
</li>
<li>
<p>"AA_DurchfuehrungAktivitaet"</p>
</li>
<li>
<p>"AA_ProzesszuordnungAktivitaet"</p>
</li>
</ul>
</div>
</li>
<li>
<p>Als Folge der obigen Anpassungen können außerdem die folgenden Typen gelöscht werden:</p>
<div class="ulist">
<ul>
<li>
<p>"AA_Liniengeometrie"</p>
</li>
<li>
<p>"AA_Flaechengeometrie"</p>
</li>
<li>
<p>"AU_Geometrie"</p>
</li>
<li>
<p>"AG_Geometrie"</p>
</li>
<li>
<p>"AU_Geometrie_3D"</p>
</li>
<li>
<p>"AA_Punktgeometrie"</p>
</li>
<li>
<p>"AA_Punktgeometrie_3D"</p>
</li>
<li>
<p>"AA_MehrfachLinienGeometrie_3D"</p>
</li>
<li>
<p>"AA_MehrfachFlaechenGeometrie_3D"</p>
</li>
<li>
<p>"AA_PunktLinienThema"</p>
</li>
<li>
<p>"AX_LI_ProcessStep_OhneDatenerhebung"</p>
</li>
<li>
<p>"AX_LI_ProcessStep_MitDatenerhebung"</p>
</li>
<li>
<p>"AX_LI_ProcessStep_Punktort"</p>
</li>
<li>
<p>"AX_LI_ProcessStep_Bodenhoehe"</p>
</li>
<li>
<p>"AX_LI_ProcessStep_Dachhoehe"</p>
</li>
<li>
<p>"AX_LI_ProcessStep3D"</p>
</li>
<li>
<p>"Acceleration"</p>
</li>
<li>
<p>"AccelerationGradient"</p>
</li>
<li>
<p>Voltage</p>
</li>
<li>
<p>"AD_ReferenzierbaresGitter"</p>
</li>
<li>
<p>"AD_Wertematrix"</p>
</li>
<li>
<p>"AA_UUID"</p>
</li>
</ul>
</div>
</li>
<li>
<p>Bei allen Klassen wird das UML Tagged Value "xsdEncodingRule" gesetzt: "iso19136_2007" außer bei Typen, die mit einer der Zeichenketten "AX_DQ", "AX_LI" oder "AX_Datenerhebung" beginnen; bei diesen wird "iso19139_2007" verwendet.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Hinweis: Sofern Attributen und Relationsrollen der Mixin-Klasse in Subtypen aus einem anderen Anwendungsschema kopiert werden, dann folgt daraus, dass in der NAS die XML-Elemente der kopierten Attribute / Relationsrollen in dem XML-Namensraum des Subtypen und nicht in dem XML-Namesraum der Mixin-Klasse definiert werden.</p>
<div class="paragraph">
<p>Beispiel: Die Ausgabeobjektart AX_Liegenschaftskarte erbt die beiden Attributarten "koordinatenangaben" und "enthaelt" von der Mixin-Klasse AA_Objektliste aus dem AAA-Anwendungsschema. Durch das beschriebene Vorgehen werden die XML-Elemente für die beiden Attribute im Namensraum des Ausgabekatalogs ('http://www.adv-online.de/namespaces/adv/aaa-ak/2.0') und nicht im Namensraum des AAA-Anwendungsschemas ('http://www.adv-online.de/namespaces/adv/gid/7.1') definiert.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Das Instanzenschema wird auf der Basis des Implementierungsschemas von ISO 19136 E.2.2 übernommen.</p>
</div>
</div>
<div class="sect3">
<h4 id="nasschema_encrules_output">Ausgabedatenstruktur</h4>
<div class="paragraph">
<p>Die Ausgabedatenstruktur ist unter ISO 19136 E.2.3 erläutert.</p>
</div>
</div>
<div class="sect3">
<h4 id="nasschema_encrules_schemaabbildungsregeln">Schema-Abbildungsregeln</h4>
<div class="paragraph">
<p>Relevante Fundstellen für die Schema-Abbildungsregeln sind: ISO 19136 E.2.4 mit den Erweiterungen aus GML 3.3 Kapitel 12 und - für Klassen mit dem UML Tagged Value xsdEncodingRule mit dem Wert "iso19139_2007" - ISO/TS 19139 Kapitel 8.</p>
</div>
<div class="paragraph">
<p>Die Werte des UML Tagged Value "reverseRoleNAS" werden im XML Schema in appinfo-Annotationen an dem Element ausgegeben, das der Assoziationsrolle entspricht.</p>
</div>
<div class="paragraph">
<p>Das von der AdV spezifizierte Schema für WFS-Erweiterungen codiert die in <a href="#nasops_funktionsumfang_erweiterungenogc">[nasops_funktionsumfang_erweiterungenogc]</a> beschriebenen Erweiterungen.</p>
</div>
<div class="paragraph">
<p>Die importierten, von Dritten definierten und verwalteten Schemata (OWS Common 1.1, GML 3.2, GML 3.3, Xlink 1.1, ISO/TS 19139:2007, WFS 2.0 und Filter Encoding 2.0 werden in den jeweiligen kanonischen Schema-Repositories referenziert.</p>
</div>
<div class="paragraph">
<p><strong>Abbildungsregeln für Instanzen</strong></p>
</div>
<div class="paragraph">
<p>Dieser Abschnitt beschreibt die Abbildung des Instanzenmodells in entsprechende XML-Elemente. Das Ergebnis der Abbildung ist ein valides XML-Dokument (NAS-Dokument). Entsprechend gezippte XML-Dokumente sind ebenfalls gültige NAS-Dokumente. Als Komprimierungsverfahren zugelassen sind "zip" und "gzip".</p>
</div>
<div class="paragraph">
<p>Die Datei enthält:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Den XML-Header, der fest ist: "&lt;?xml version="1.0" encoding="UTF-8" ?&gt;". Die Verwendung von "UTF-8" wird für das Encoding vorgeschrieben.</p>
</li>
<li>
<p>Das Root-Element aus einer Auftrags- oder Ergebnis-XSD-Datei mit einem Verweis auf den AdV-Namespace "http://www.adv-online.de/namespaces/adv/gid/version" und die XSD-Datei.</p>
</li>
<li>
<p>Elemente in Übereinstimmung mit der referenzierten XSD-Datei.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Jedes Objekt im Instanzenschema wird in ein entsprechendes Element überführt. Das passende Element trägt denselben Namen wie die Klasse, zu der das Objekt gehört. Das "gml:id"-Attribut, das den Identifikator trägt, wird gesetzt.</p>
</div>
<div class="paragraph">
<p>Jede Eigenschaft des Objekts, d.h. jedes Attribut und jede Rolle in einer Assoziation, wird entsprechend der in den Schema-Abbildungsregeln definierten Abbildung auf XML-Elemente abgebildet, i.d.R. in ein lokales Element mit dem Namen des Attributs oder der Rolle.</p>
</div>
<div class="paragraph">
<p><strong>Codierung von Identifikatoren in der NAS</strong></p>
</div>
<div class="paragraph">
<p>Der AAA-Identifikator besteht stets aus 16 Zeichen. Der Aufbau wird in <a href="#basisschema_aaa_oids">[basisschema_aaa_oids]</a> beschrieben.</p>
</div>
<div class="paragraph">
<p>In der NAS ist der AAA-Identifikator im XML-Attribut gml:id zu codieren. Beispiel:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;AX_Gebaeude gml:id="DEST123412345678"&gt;
   &lt;!-- ... --&gt;
&lt;/AX_Gebaeude&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Um die dokumentenweite Eindeutigkeit des gml:id-Attributs zu gewährleisten, wird die Angabe immer dann um Entstehungsdatum/-zeit ergänzt, wenn mehrere Versionen eines Objekts in einem XML-Dokument vorkommen. Dies kommt insbesondere in den folgenden Fällen vor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In einem Bestandsdatenauszug werden mehrere Versionen eines Objekts selektiert.</p>
</li>
<li>
<p>Ein Objekt wird in einem Fortführungsauftrag mit mehreren Fortführungsfällen mehrfach geändert.</p>
</li>
<li>
<p>In der Einrichtung werden auch historische Objektversionen migriert.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Datum und Uhrzeit werden hierbei in 16 Zeichen ohne Trennzeichen kodiert, damit sie den Bedingungen einer XML ID genügen, also in der folgenden Form: CCYYMMDDThhmmssZ.</p>
</div>
<div class="paragraph">
<p>Beispiel:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;AX_Gebaeude gml:id="DEST12341234567820010101T110000Z"&gt;
   &lt;!-- ... --&gt;
&lt;/AX_Gebaeude&gt;

&lt;!-- ... --&gt;

&lt;AX_Gebaeude gml:id="DEST12341234567820070313T125420Z"&gt;
   &lt;!-- ... --&gt;
&lt;/AX_Gebaeude&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Zusätzlich zur gml:id ist der Identifikator ebenfalls in der in ISO 19136 vordefinierten Objekteigenschaft, gml:identifier, zu codieren. Hierbei gelten die folgenden Regeln:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Als codeSpace ist "http://www.adv-online.de/" zu verwenden.</p>
</li>
<li>
<p>Es wird stets der Identifikator (also ohne Entstehungsdatum/-zeit) angegeben.</p>
</li>
<li>
<p>Der Identifikator wird als globaler Identifikator, d.h. als URN (siehe unten <mark><strong>TBD:</strong> Genaue Referenz?</mark>) codiert.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Beispiel:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;AX_Gebaeude gml:id="DEST123412345678"&gt;
   &lt;gml:identifier codeSpace="http://www.adv-online.de/"&gt;
      urn:adv:oid:DEST123412345678
   &lt;/gml:identifier&gt;
   &lt;!-- ... --&gt;
&lt;/AX_Gebaeude&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In der NAS kommen zwei Arten von Verweisen auf Objekte vor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Verweise von einem Objekt auf ein anderes Objekt werden stets als XLink repräsentiert. Innerhalb der NAS sind Verweise auf andere AAA-Objekte ausnahmslos über <a href="http://www.ietf.org/rfc/rfc2141.txt">URNs</a> auszudrücken. Uniform Resource Names (URNs) dienen als global eindeutige, persistente, Speicherort-unabhängige Identifikatoren. URNs von AAA-Identifikatoren beginnen alle mit "urn:adv:oid:", ergänzt durch den Identifikator.<br>
Beispiel: "urn:adv:oid:DEST123412345678".</p>
</li>
<li>
<p>Verweise aus einem Selektionskriterium auf ein bestimmtes Objekt über einen Identifikator (fes:ResourceId/@rid). Hier ist stets der Identifikator ohne URN-Kontext anzugeben. In einigen Fällen ist hierbei zur Aktualitätsprüfung ebenfalls das 16-stellige Entstehungsdatum/-zeit ohne Trennzeichen anzugeben. Die entsprechenden Fälle werden in <a href="#nasops_funktionsumfang">[nasops_funktionsumfang]</a> spezifiziert.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Codierung von Geometrieeigenschaften in der NAS</strong></p>
</div>
<div class="paragraph">
<p>Auf die Kodierung der Orientierung von Linien (Curves) wurde im AAA-Basisschema verzichtet. Da die Richtung einer Linie aber fallweise (z.B. Fließrichtung von Gewässern) eine Bedeutung hat, muss a) die Erfassung in positiver Richtung erfolgen und b) sichergestellt werden, dass diese Richtung im Zuge der Verarbeitung und Speicherung unverändert bleibt. Damit kann davon ausgegangen werden, dass die Linienorientierung in der NAS immer positiv ist und es einer gesonderten Kennzeichnung nicht bedarf.</p>
</div>
<div class="paragraph">
<p>Bei Flächenumringen liegt die begrenzte Fläche gemäß ISO 19107 immer zur Linken der in positiver Richtung orientierten begrenzenden Linien.</p>
</div>
<div class="paragraph">
<p>Um die NAS möglichst einfach zu gestalten, wird Geometrie ausschließlich redundant ausgetauscht. NAS-Daten aufnehmende Programmsysteme müssen Topologie bzw. gemeinsame Geometrienutzung selbst erkennen - sofern sie sich für diese Information interessieren. Die Einstiegshürde für die Nutzung von AFIS-ALKIS-ATKIS-Daten wird dadurch möglichst niedrig gehalten.</p>
</div>
<div class="paragraph">
<p>Das "Erkennen" von Geometrieteilung wird durch die folgenden Punkte - auf möglichst einfache Weise - definiert.</p>
</div>
<div class="paragraph">
<p>Topologische Objekte und solche mit gemeinsam genutzter Geometrie können Themen zugeordnet werden. Topologische Beziehungen und gemeinsame Geometrienutzung sind nur innerhalb eines Themas möglich. Ein Thema ist immer auf eine Modellart beschränkt.</p>
</div>
<div class="paragraph">
<p>Damit zwei Geometrien identisch sind, müssen sie identische Definitionen in einem &lt;Point&gt; bzw. einer &lt;Curve&gt; besitzen, ein identischer Geometrieverlauf allein ist bei Linien nicht ausreichend.</p>
</div>
<div class="paragraph">
<p>Zur Erläuterung folgende Themendefinition für die Modellart Basis-DLM</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;AX_Themendefinition&gt;
  &lt;name&gt;Tatsächliche Nutzung Basis-DLM&lt;/name&gt;
  &lt;art&gt;1000&lt;/art&gt;
  &lt;objektart&gt;AX_Hafenbecken&lt;/objektart&gt;
  &lt;objektart&gt;AX_StehendesGewaesser&lt;/objektart&gt;
  &lt;objektart&gt;AX_Meer&lt;/objektart&gt;
  &lt;objektart&gt;AX_Fliessgewaesser&lt;/objektart&gt;
  &lt;objektart&gt;AX_Gewaesserachse&lt;/objektart&gt;
  &lt;objektart&gt;AX_Wohnbauflaeche&lt;/objektart&gt;
  &lt;objektart&gt;AX_IndustrieUndGewerbeflaeche&lt;/objektart&gt;
  &lt;objektart&gt;AX_Halde&lt;/objektart&gt;
  &lt;objektart&gt;AX_Bergbaubetrieb&lt;/objektart&gt;
  &lt;objektart&gt;AX_TagebauGrubeSteinbruch&lt;/objektart&gt;
  &lt;objektart&gt;AX_FlaecheBesondererFunktionalerPraegung&lt;/objektart&gt;
  &lt;objektart&gt;AX_SportFreizeitUndErholungsflaeche&lt;/objektart&gt;
  &lt;objektart&gt;AX_Friedhof&lt;/objektart&gt;
  &lt;objektart&gt;AX_FlaecheGemischterNutzung&lt;/objektart&gt;
  &lt;objektart&gt;AX_Landwirtschaft&lt;/objektart&gt;
  &lt;objektart&gt;AX_Wald&lt;/objektart&gt;
  &lt;objektart&gt;AX_Gehoelz&lt;/objektart&gt;
  &lt;objektart&gt;AX_Heide&lt;/objektart&gt;
  &lt;objektart&gt;AX_Moor&lt;/objektart&gt;
  &lt;objektart&gt;AX_Sumpf&lt;/objektart&gt;
  &lt;objektart&gt;AX_UnlandVegetationsloseFlaeche&lt;/objektart&gt;
  &lt;objektart&gt;AX_Strassenverkehr&lt;/objektart&gt;
  &lt;objektart&gt;AX_Platz&lt;/objektart&gt;
  &lt;objektart&gt;AX_Bahnverkehr&lt;/objektart&gt;
  &lt;objektart&gt;AX_Flugverkehr&lt;/objektart&gt;
  &lt;objektart&gt;AX_Schiffsverkehr&lt;/objektart&gt;
  &lt;objektart&gt;AX_Bahnstrecke&lt;/objektart&gt;
  &lt;objektart&gt;AX_Strassenachse&lt;/objektart&gt;
  &lt;objektart&gt;AX_Fahrbahnachse&lt;/objektart&gt;
  &lt;objektart&gt;AX_Fahrwegachse&lt;/objektart&gt;
  &lt;modellart&gt;Basis-DLM&lt;/modellart&gt;
  &lt;dimension&gt;2000&lt;/dimension&gt;
&lt;/AX_Themendefinition&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Zur Erläuterung hier ein Beispiel bestehend aus 42003 AX_Strassenachse, 41006 AX_FlaecheGemischterNutzung und 41008 AX_SportFreizeitUndErholungsflaeche, welche aufgrund der Themendefinition in gemeinsamen Positionen über identische Koordinatenpaare verfügen.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- ... --&gt;
  &lt;AX_Strassenachse gml:id="DETHTL2500005JpT"&gt;
    &lt;!-- ... --&gt;
    &lt;modellart&gt;
      &lt;AA_Modellart&gt;
        &lt;advStandardModell&gt;Basis-DLM&lt;/advStandardModell&gt;
      &lt;/AA_Modellart&gt;
    &lt;/modellart&gt;
    &lt;istTeilVon xlink:href="urn:adv:oid:DETHTL25000056OE"/&gt;
    &lt;position&gt;
      &lt;gml:Curve gml:id="A285"&gt;
        &lt;gml:segments&gt;
          &lt;gml:LineStringSegment&gt;
            &lt;gml:posList&gt;640244.590 5648317.260 640186.230 5648414.980&lt;/gml:posList&gt;
          &lt;/gml:LineStringSegment&gt;
          &lt;gml:LineStringSegment&gt;
            &lt;gml:posList&gt;640186.230 5648414.980 640127.410 5648513.460&lt;/gml:posList&gt;
          &lt;/gml:LineStringSegment&gt;
        &lt;/gml:segments&gt;
      &lt;/gml:Curve&gt;
    &lt;/position&gt;
    &lt;!-- ... --&gt;
  &lt;/AX_Strassenachse&gt;
&lt;!-- ... --&gt;
&lt;AX_FlaecheGemischterNutzung gml:id="DETHTL2500005Lu4"&gt;
    &lt;!-- ... --&gt;
    &lt;modellart&gt;
      &lt;AA_Modellart&gt;
        &lt;advStandardModell&gt;Basis-DLM&lt;/advStandardModell&gt;
      &lt;/AA_Modellart&gt;
    &lt;/modellart&gt;
    &lt;position&gt;
      &lt;gml:Surface gml:id="A3EN"&gt;
        &lt;gml:patches&gt;
          &lt;gml:PolygonPatch&gt;
            &lt;gml:exterior&gt;
              &lt;gml:Ring&gt;
                &lt;gml:curveMember&gt;
                  &lt;gml:Curve gml:id="A3EO"&gt;
                    &lt;gml:segments&gt;
                      &lt;gml:LineStringSegment&gt;
                        &lt;gml:posList&gt;640186.230 5648414.980 640127.410 5648513.460&lt;/gml:posList&gt;
                      &lt;/gml:LineStringSegment&gt;
                    &lt;/gml:segments&gt;
                  &lt;/gml:Curve&gt;
                &lt;/gml:curveMember&gt;
                &lt;gml:curveMember&gt;
                  &lt;gml:Curve gml:id="A3EP"&gt;
                    &lt;gml:segments&gt;
                      &lt;gml:LineStringSegment&gt;
                        &lt;gml:posList&gt;640127.410 5648513.460 640224.910 5648555.150&lt;/gml:posList&gt;
                      &lt;/gml:LineStringSegment&gt;
                    &lt;/gml:segments&gt;
                  &lt;/gml:Curve&gt;
                &lt;/gml:curveMember&gt;
                &lt;gml:curveMember&gt;
                  &lt;gml:Curve gml:id="A3EQ"&gt;
                    &lt;gml:segments&gt;
                      &lt;gml:LineStringSegment&gt;
                        &lt;gml:posList&gt;640224.910 5648555.150 640276.083 5648460.442&lt;/gml:posList&gt;
                      &lt;/gml:LineStringSegment&gt;
                    &lt;/gml:segments&gt;
                  &lt;/gml:Curve&gt;
                &lt;/gml:curveMember&gt;
                &lt;gml:curveMember&gt;
                  &lt;gml:Curve gml:id="A3ER"&gt;
                    &lt;gml:segments&gt;
                      &lt;gml:LineStringSegment&gt;
                        &lt;gml:posList&gt;640276.083 5648460.442 640186.230 5648414.980&lt;/gml:posList&gt;
                      &lt;/gml:LineStringSegment&gt;
                    &lt;/gml:segments&gt;
                  &lt;/gml:Curve&gt;
                &lt;/gml:curveMember&gt;
              &lt;/gml:Ring&gt;
            &lt;/gml:exterior&gt;
          &lt;/gml:PolygonPatch&gt;
        &lt;/gml:patches&gt;
      &lt;/gml:Surface&gt;
    &lt;/position&gt;
    &lt;!-- ... --&gt;
  &lt;/AX_FlaecheGemischterNutzung&gt;
&lt;!-- ... --&gt;
&lt;AX_SportFreizeitUndErholungsflaeche gml:id="DETHTL2500005KVW"&gt;
    &lt;!-- ... --&gt;
    &lt;modellart&gt;
      &lt;AA_Modellart&gt;
        &lt;advStandardModell&gt;Basis-DLM&lt;/advStandardModell&gt;
      &lt;/AA_Modellart&gt;
    &lt;/modellart&gt;
    &lt;position&gt;
      &lt;gml:Surface gml:id="A2R7"&gt;
        &lt;gml:patches&gt;
          &lt;gml:PolygonPatch&gt;
            &lt;gml:exterior&gt;
              &lt;gml:Ring&gt;
                &lt;gml:curveMember&gt;
                  &lt;gml:Curve gml:id="A2R8"&gt;
                    &lt;gml:segments&gt;
                      &lt;gml:LineStringSegment&gt;
                        &lt;gml:posList&gt;640244.590 5648317.260 640186.230 5648414.980&lt;/gml:posList&gt;
                      &lt;/gml:LineStringSegment&gt;
                    &lt;/gml:segments&gt;
                  &lt;/gml:Curve&gt;
                &lt;/gml:curveMember&gt;
                &lt;gml:curveMember&gt;
                  &lt;gml:Curve gml:id="A2R9"&gt;
                    &lt;gml:segments&gt;
                      &lt;gml:LineStringSegment&gt;
                        &lt;gml:posList&gt;640186.230 5648414.980 640276.083 5648460.442&lt;/gml:posList&gt;
                      &lt;/gml:LineStringSegment&gt;
                    &lt;/gml:segments&gt;
                  &lt;/gml:Curve&gt;
                &lt;/gml:curveMember&gt;
                &lt;gml:curveMember&gt;
                  &lt;gml:Curve gml:id="A2RA"&gt;
                    &lt;gml:segments&gt;
                      &lt;gml:LineStringSegment&gt;
                        &lt;gml:posList&gt;640276.083 5648460.442 640329.780 5648363.250&lt;/gml:posList&gt;
                      &lt;/gml:LineStringSegment&gt;
                    &lt;/gml:segments&gt;
                  &lt;/gml:Curve&gt;
                &lt;/gml:curveMember&gt;
                &lt;gml:curveMember&gt;
                  &lt;gml:Curve gml:id="A2RB"&gt;
                    &lt;gml:segments&gt;
                      &lt;gml:LineStringSegment&gt;
                        &lt;gml:posList&gt;640329.780 5648363.250 640244.590 5648317.260&lt;/gml:posList&gt;
                      &lt;/gml:LineStringSegment&gt;
                    &lt;/gml:segments&gt;
                  &lt;/gml:Curve&gt;
                &lt;/gml:curveMember&gt;
              &lt;/gml:Ring&gt;
            &lt;/gml:exterior&gt;
          &lt;/gml:PolygonPatch&gt;
        &lt;/gml:patches&gt;
      &lt;/gml:Surface&gt;
    &lt;/position&gt;
    &lt;!-- ... --&gt;
  &lt;/AX_SportFreizeitUndErholungsflaeche&gt;
&lt;!-- ... --&gt;</code></pre>
</div>
</div>
<div id="img_54" class="imageblock">
<div class="content">
<img src="media/image54.png" alt="media/image54" width="403" height="184">
</div>
<div class="title">Figure 4. Erläuterung zur Linienteilung</div>
</div>
<div class="paragraph">
<p>Identität bei Linien wird stets auf der Ebene der "<em>GM_Curve</em>" untersucht. Sie ist gegeben, wenn alle Positionen der Geometriedefinition in Lage und Reihenfolge sowie verwendeter Interpolationsart identisch sind. Hierbei ist auch eine Umkehrung der Reihenfolge erlaubt.</p>
</div>
<div class="paragraph">
<p>Zwei Positionen sind identisch, wenn ihr Abstand kleiner als die vorzugebende Koordinatenauflösung ist. In AFIS-ALKIS-ATKIS ist diese für metrische Lagekoordinaten auf 3 Nachkommastellen (mm) festgelegt. Diese Festlegung gilt unabhängig von der tatsächlichen Genauigkeit der Koordinaten.</p>
</div>
<div class="paragraph">
<p>Zur Erläuterung werden die beiden Situationen aus <a href="#img_54">Figure 4</a> beispielhaft codiert. Zuerst die linke Situation (ohne Linienteilung):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- ... --&gt;
&lt;AX_Flurstueck gml:id="DEBY000000000001"&gt;
  &lt;!-- ... --&gt;
  &lt;position&gt;
    &lt;gml:Surface srsName="urn:adv:crs:DE_DHDN_3GK3" gml:id="_1"&gt;
      &lt;gml:patches&gt;
        &lt;gml:PolygonPatch&gt;
          &lt;gml:exterior&gt;
            &lt;gml:Ring gml:id="_2"&gt;
              &lt;gml:curveMember&gt;
                &lt;gml:Curve gml:id="_3"&gt;
                  &lt;gml:segments&gt;
                    &lt;gml:LineStringSegment&gt;
                      &lt;gml:posList&gt;601085.954 5943996.138&lt;/gml:posList&gt;
                      &lt;gml:posList&gt;601085.954 5943998.138&lt;/gml:posList&gt;
                    &lt;/gml:LineStringSegment&gt;
                  &lt;/gml:segments&gt;
                &lt;/gml:Curve&gt;
              &lt;/gml:curveMember&gt;
              &lt;gml:curveMember&gt;
                &lt;gml:Curve gml:id="_4"&gt;
                  &lt;gml:segments&gt;
                    &lt;gml:LineStringSegment&gt;
                      &lt;gml:posList&gt;601085.954 5943998.138&lt;/gml:posList&gt;
                      &lt;gml:posList&gt;601078.954 5943998.138&lt;/gml:posList&gt;
                    &lt;/gml:LineStringSegment&gt;
                  &lt;/gml:segments&gt;
                &lt;/gml:Curve&gt;
              &lt;/gml:curveMember&gt;
              &lt;gml:curveMember&gt;
                &lt;gml:Curve gml:id="_5"&gt;
                  &lt;gml:segments&gt;
                    &lt;gml:LineStringSegment&gt;
                      &lt;gml:posList&gt;601078.954 5943998.138&lt;/gml:posList&gt;
                      &lt;gml:posList&gt;601078.954 5943996.138&lt;/gml:posList&gt;
                    &lt;/gml:LineStringSegment&gt;
                  &lt;/gml:segments&gt;
                &lt;/gml:Curve&gt;
              &lt;/gml:curveMember&gt;
              &lt;gml:curveMember&gt;
                &lt;gml:Curve gml:id="_6"&gt;
                  &lt;gml:segments&gt;
                    &lt;gml:LineStringSegment&gt;
                      &lt;gml:posList&gt;601078.954 5943996.138&lt;/gml:posList&gt;
                      &lt;gml:posList&gt;601085.954 5943996.138&lt;/gml:posList&gt;
                    &lt;/gml:LineStringSegment&gt;
                  &lt;/gml:segments&gt;
                &lt;/gml:Curve&gt;
              &lt;/gml:curveMember&gt;
            &lt;/gml:Ring&gt;
          &lt;/gml:exterior&gt;
        &lt;/gml:PolygonPatch&gt;
      &lt;/gml:patches&gt;
    &lt;/gml:Surface&gt;
  &lt;/position&gt;
  &lt;!-- ... --&gt;
&lt;/AX_Flurstueck&gt;
&lt;!-- ... --&gt;
&lt;AX_Gebaeude gml:id="DEBY000000000002"&gt;
  &lt;!-- ... --&gt;
  &lt;position&gt;
    &lt;gml:Surface srsName="urn:adv:crs:DE_DHDN_3GK3" gml:id="_7"&gt;
      &lt;gml:patches&gt;
        &lt;gml:PolygonPatch&gt;
          &lt;gml:exterior&gt;
            &lt;gml:Ring gml:id="_8"&gt;
              &lt;gml:curveMember&gt;
                &lt;gml:Curve gml:id="_9"&gt;
                  &lt;gml:segments&gt;
                    &lt;gml:LineStringSegment&gt;
                      &lt;gml:posList&gt;601082.954 5943994.138&lt;/gml:posList&gt;
                      &lt;gml:posList&gt;601082.954 5943996.138&lt;/gml:posList&gt;
                    &lt;/gml:LineStringSegment&gt;
                  &lt;/gml:segments&gt;
                &lt;/gml:Curve&gt;
              &lt;/gml:curveMember&gt;
              &lt;gml:curveMember&gt;
                &lt;gml:Curve gml:id="_10"&gt;
                  &lt;gml:segments&gt;
                    &lt;gml:LineStringSegment&gt;
                      &lt;gml:posList&gt;601082.954 5943996.138&lt;/gml:posList&gt;
                      &lt;gml:posList&gt;601078.954 5943996.138&lt;/gml:posList&gt;
                    &lt;/gml:LineStringSegment&gt;
                  &lt;/gml:segments&gt;
                &lt;/gml:Curve&gt;
              &lt;/gml:curveMember&gt;
              &lt;gml:curveMember&gt;
                &lt;gml:Curve gml:id="_11"&gt;
                  &lt;gml:segments&gt;
                    &lt;gml:LineStringSegment&gt;
                      &lt;gml:posList&gt;601078.954 5943996.138&lt;/gml:posList&gt;
                      &lt;gml:posList&gt;601078.954 5943994.138&lt;/gml:posList&gt;
                    &lt;/gml:LineStringSegment&gt;
                  &lt;/gml:segments&gt;
                &lt;/gml:Curve&gt;
              &lt;/gml:curveMember&gt;
              &lt;gml:curveMember&gt;
                &lt;gml:Curve gml:id="_12"&gt;
                  &lt;gml:segments&gt;
                    &lt;gml:LineStringSegment&gt;
                      &lt;gml:posList&gt;601078.954 5943994.138&lt;/gml:posList&gt;
                      &lt;gml:posList&gt;601082.954 5943994.138&lt;/gml:posList&gt;
                    &lt;/gml:LineStringSegment&gt;
                  &lt;/gml:segments&gt;
                &lt;/gml:Curve&gt;
              &lt;/gml:curveMember&gt;
            &lt;/gml:Ring&gt;
          &lt;/gml:exterior&gt;
        &lt;/gml:PolygonPatch&gt;
      &lt;/gml:patches&gt;
    &lt;/gml:Surface&gt;
  &lt;/position&gt;
  &lt;!-- ... --&gt;
&lt;/AX_Gebaeude&gt;
&lt;!-- ... --&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Und zum Vergleich die rechte Situation, bei der die untere Kante des Flurstücks zur Herstellung der Geometrieidentität im oben beschriebenen Sinne in zwei Kanten in der Erhebungskomponente aufgetrennt wurde:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- ... --&gt;
&lt;AX_Flurstueck gml:id="DEBY000000000001"&gt;
  &lt;!-- ... --&gt;
  &lt;position&gt;
    &lt;gml:Surface srsName="urn:adv:crs:DE_DHDN_3GK3" gml:id="_1"&gt;
      &lt;gml:patches&gt;
        &lt;gml:PolygonPatch&gt;
          &lt;gml:exterior&gt;
            &lt;gml:Ring gml:id="_2"&gt;
              &lt;gml:curveMember&gt;
                &lt;gml:Curve gml:id="_3"&gt;
                  &lt;gml:segments&gt;
                    &lt;gml:LineStringSegment&gt;
                      &lt;gml:posList&gt;601085.954 5943996.138&lt;/gml:posList&gt;
                      &lt;gml:posList&gt;601085.954 5943998.138&lt;/gml:posList&gt;
                    &lt;/gml:LineStringSegment&gt;
                  &lt;/gml:segments&gt;
                &lt;/gml:Curve&gt;
              &lt;/gml:curveMember&gt;
              &lt;gml:curveMember&gt;
                &lt;gml:Curve gml:id="_4"&gt;
                  &lt;gml:segments&gt;
                    &lt;gml:LineStringSegment&gt;
                      &lt;gml:posList&gt;601085.954 5943998.138&lt;/gml:posList&gt;
                      &lt;gml:posList&gt;601078.954 5943998.138&lt;/gml:posList&gt;
                    &lt;/gml:LineStringSegment&gt;
                  &lt;/gml:segments&gt;
                &lt;/gml:Curve&gt;
              &lt;/gml:curveMember&gt;
              &lt;gml:curveMember&gt;
                &lt;gml:Curve gml:id="_5"&gt;
                  &lt;gml:segments&gt;
                    &lt;gml:LineStringSegment&gt;
                      &lt;gml:posList&gt;601078.954 5943998.138&lt;/gml:posList&gt;
                      &lt;gml:posList&gt;601078.954 5943996.138&lt;/gml:posList&gt;
                    &lt;/gml:LineStringSegment&gt;
                  &lt;/gml:segments&gt;
                &lt;/gml:Curve&gt;
              &lt;/gml:curveMember&gt;
              &lt;gml:curveMember&gt;
                &lt;gml:Curve gml:id="_6"&gt;
                  &lt;gml:segments&gt;
                    &lt;gml:LineStringSegment&gt;
                      &lt;gml:posList&gt;601078.954 5943996.138&lt;/gml:posList&gt;
                      &lt;gml:posList&gt;601082.954 5943996.138&lt;/gml:posList&gt;
                    &lt;/gml:LineStringSegment&gt;
                  &lt;/gml:segments&gt;
                &lt;/gml:Curve&gt;
              &lt;/gml:curveMember&gt;
              &lt;gml:curveMember&gt;
                &lt;gml:Curve gml:id="_7"&gt;
                  &lt;gml:segments&gt;
                    &lt;gml:LineStringSegment&gt;
                      &lt;gml:posList&gt;601082.954 5943996.138&lt;/gml:posList&gt;
                      &lt;gml:posList&gt;601085.954 5943996.138&lt;/gml:posList&gt;
                    &lt;/gml:LineStringSegment&gt;
                  &lt;/gml:segments&gt;
                &lt;/gml:Curve&gt;
              &lt;/gml:curveMember&gt;
            &lt;/gml:Ring&gt;
          &lt;/gml:exterior&gt;
        &lt;/gml:PolygonPatch&gt;
      &lt;/gml:patches&gt;
    &lt;/gml:Surface&gt;
  &lt;/position&gt;
  &lt;!-- ... --&gt;
&lt;/AX_Flurstueck&gt;
&lt;!-- ... --&gt;
&lt;AX_Gebaeude gml:id="DEBY000000000002"&gt;
  &lt;!-- ... --&gt;
  &lt;position&gt;
    &lt;gml:Surface srsName="urn:adv:crs:DE_DHDN_3GK3" gml:id="_8"&gt;
      &lt;gml:patches&gt;
        &lt;gml:PolygonPatch&gt;
          &lt;gml:exterior&gt;
            &lt;gml:Ring gml:id="_9"&gt;
              &lt;gml:curveMember&gt;
                &lt;gml:Curve gml:id="_10"&gt;
                  &lt;gml:segments&gt;
                    &lt;gml:LineStringSegment&gt;
                      &lt;gml:posList&gt;601082.954 5943994.138&lt;/gml:posList&gt;
                      &lt;gml:posList&gt;601082.954 5943996.138&lt;/gml:posList&gt;
                    &lt;/gml:LineStringSegment&gt;
                  &lt;/gml:segments&gt;
                &lt;/gml:Curve&gt;
              &lt;/gml:curveMember&gt;
              &lt;gml:curveMember&gt;
                &lt;gml:Curve gml:id="_11"&gt;
                  &lt;gml:segments&gt;
                    &lt;gml:LineStringSegment&gt;
                      &lt;gml:posList&gt;601082.954 5943996.138&lt;/gml:posList&gt;
                      &lt;gml:posList&gt;601078.954 5943996.138&lt;/gml:posList&gt;
                    &lt;/gml:LineStringSegment&gt;
                  &lt;/gml:segments&gt;
                &lt;/gml:Curve&gt;
              &lt;/gml:curveMember&gt;
              &lt;gml:curveMember&gt;
                &lt;gml:Curve gml:id="_12"&gt;
                  &lt;gml:segments&gt;
                    &lt;gml:LineStringSegment&gt;
                      &lt;gml:posList&gt;601078.954 5943996.138&lt;/gml:posList&gt;
                      &lt;gml:posList&gt;601078.954 5943994.138&lt;/gml:posList&gt;
                    &lt;/gml:LineStringSegment&gt;
                  &lt;/gml:segments&gt;
                &lt;/gml:Curve&gt;
              &lt;/gml:curveMember&gt;
              &lt;gml:curveMember&gt;
                &lt;gml:Curve gml:id="_13"&gt;
                  &lt;gml:segments&gt;
                    &lt;gml:LineStringSegment&gt;
                      &lt;gml:posList&gt;601078.954 5943994.138&lt;/gml:posList&gt;
                      &lt;gml:posList&gt;601082.954 5943994.138&lt;/gml:posList&gt;
                    &lt;/gml:LineStringSegment&gt;
                  &lt;/gml:segments&gt;
                &lt;/gml:Curve&gt;
              &lt;/gml:curveMember&gt;
            &lt;/gml:Ring&gt;
          &lt;/gml:exterior&gt;
        &lt;/gml:PolygonPatch&gt;
      &lt;/gml:patches&gt;
    &lt;/gml:Surface&gt;
  &lt;/position&gt;
  &lt;!-- ... --&gt;
&lt;/AX_Gebaeude&gt;
&lt;!-- ... --&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Die Themen werden in der NAS-Datei wie folgt abgebildet:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Die Themen, und dies gilt sowohl für "TS_Theme" als auch das "PunktLinienThema", sind (implizite) Realisierungen von GM_Complex und sind letztlich eine Aggregation von geometrischen Elementen. Sie können im AFIS-ALKIS-ATKIS-Kontext nur in einer vollständigen Form (Art der Themendeklaration = "alle Objekte", Klassenthemen) vorkommen.</p>
</li>
<li>
<p>Bei der vollständigen, klassenbezogenen Form liegen alle Objekte einer Objekt-art automatisch in diesem Thema. Es besteht keine "Wahlmöglichkeit".</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Die bis zur GeoInfoDok Version 6.0.1 mögliche, instanzenbezogene Angabe der geometrischen Identität ist nicht mehr vorgesehen, da eine eindeutige Zuordnung zwischen einer geometrischen Identität und dem entsprechenden Thema nicht möglich war, sondern nur allgemeingültig für alle Instanzen in den Produkt-Metadaten angegeben werden konnte. Zudem waren keine fachlichen Anforderungen zur Erfassung und Führung dieser Funktionalität bekannt.</p>
</div>
<div class="paragraph">
<p><strong>Codierung von Verweisen auf Koordinatenreferenzsysteme in der NAS</strong></p>
</div>
<div class="paragraph">
<p>Grundsätzlich muss jede Geometrieeinheit in der NAS-Datei (Punkt, Linie, Fläche) auf ein Koordinatenreferenzsystem (CRS) verweisen. Dies kann entweder implizit durch Angabe des CRS bei einer übergeordneten Geometrieeinheit oder explizit bei der jeweiligen Geometrieeinheit erfolgen. Der Verweis erfolgt durch Angabe eines <a href="http://www.w3.org/Addressing">URI</a> <em>(Uniform Resource Identifier)</em>. Um diese Angabe nicht immer bei jeder Objektgeometrie machen zu müssen, werden in den Exchange Metadata der NAS alle verwendeten Referenzsysteme angegeben, von denen eines als Standardreferenzsystem gekennzeichnet werden kann. Für Geometrien, die in diesem Standardreferenzsystem vorliegen, muss keine Angabe zum Koordinatenreferenzsystem mehr gemacht werden. Das dafür vorgesehene Attribut bei GML-Geometrien "srsName" ist in diesen Fällen nicht vorhanden. Für alle Geometrien, die nicht im Standardreferenzsystem vorliegen, ist das Attribut zu belegen. Hierbei sind die in <a href="#crsuom_crs_aaa">[crsuom_crs_aaa]</a> beschriebene Syntax und die dort definierten Bezeichnungen zu verwenden.</p>
</div>
<div class="paragraph">
<p>Bei NAS-Dokumenten, die Objekte in einer "FeatureCollection" enthalten, ist das Standardreferenzsystem im Attribut "srsName" des "gml:Envelope" anzugeben.</p>
</div>
<div class="paragraph">
<p>Darüber hinaus dient die Deklaration der verwendeten Koordinatenreferenzsysteme in den Exchange Metadata der Angabe der für das Referenzsystem geltenden Koordinatenauflösung bzw. der Anzahl der relevanten Nachkommastellen. Diese kann von Referenzsystem zu Referenzsystem unterschiedlich sein und macht keine Aussage über die Genauigkeit der Koordinaten. In AFIS-ALKIS-ATKIS ist die Koordinatenauflösung für metrische Lagekoordinaten auf 3 Nachkommastellen (mm) festgelegt. Die Angabe der relevanten Nachkommastellen ist notwendig, da sowohl GML als auch ISO 19107 <em>Spatial Schema</em> keine Einschränkungen diesbezüglich machen und auch keine Möglichkeiten dazu vorsehen (Datentyp: <em>decimal</em> oder <em>double</em>). Folgende Definition wird in den NAS Schema-Dateien verwendet:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;xs:complexType name="AA_Koordinatenreferenzsystemangaben"&gt;
  &lt;xs:sequence&gt;
    &lt;xs:element name="crs" type="gml:CRSPropertyType"/&gt;
    &lt;xs:element name="anzahlDerNachkommastellen" type="xs:integer"/&gt;
    &lt;xs:element name="standard" type="xs:boolean"/&gt;
  &lt;/xs:sequence&gt;
&lt;/xs:complexType&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Codierung von Verweisen auf Maßeinheiten in der NAS</strong></p>
</div>
<div class="paragraph">
<p>Grundsätzlich muss jeder mit einer Maßeinheit versehene Wert in der NAS-Datei (z.B. Längen, Flächen, Winkel) auf eine Maßeinheit verweisen. Der Verweis erfolgt durch Angabe eines <a href="http://www.w3.org/Addressing">URI</a> <em>(Uniform Resource Identifier)</em> im Attribut "uom". Hierbei sind die in <a href="#crsuom_uom_aaa">[crsuom_uom_aaa]</a> beschriebene Syntax und die dort definierten Bezeichnungen zu verwenden.</p>
</div>
<div class="paragraph">
<p><strong>Codierung von Verweisen auf Werte aus Codelisten</strong></p>
</div>
<div class="paragraph">
<p>Jedes Attribut mit einem Wert aus einer Codelist wird in der NAS als Verweis auf einen Codelistenwert in einer Registry für Codelisten (siehe <a href="#registry_codelists">[registry_codelists]</a>) codiert. Der Verweis wird als HTTP URI in einem xlink:href-Attribut codiert. Hierbei ist der Text des Wertes im Attribut xlink:title aufzunehmen.</p>
</div>
<div class="paragraph">
<p>Beispiel:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;AX_Flurstueck gml:id="DEBBxxxxxxxxxxxx"&gt;
  &lt;!-- ... --&gt;
  &lt;anlass xlink:title="Ersteinrichtung" xlink:href="https://registry.gdi-de.org/codelist/de.adv-online.gid/AA_Anlassart/000000"/&gt;
  &lt;!-- ... --&gt;
&lt;/AX_Flurstueck&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Codierung von Zeilenumbrüchen in Schriftinhalten von Präsentationsobjekten</strong></p>
</div>
<div class="paragraph">
<p>Für eine korrekte Darstellung von Schriftinhalten wird gelegentlich ein Zeilenumbruch nötig. Dieser muss im Schriftinhalt eines Präsentationsobjektes durch ein entsrechendes LF-Zeichen "\n" angegeben werden. In XML wird ein LF durch ein Zeichen - typischerweise #xA - repräsentiert.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="nasschema_gmlprofil">GML-Profil für die NAS</h3>
<div class="paragraph">
<p>Als Bestandteil der NAS wird ein GML-Profil dokumentiert, das die GML-Elemente und -Typen auf den benötigten Umfang eingrenzt und in der aktuellen Version nicht benötigte Teile, wie die Topologie oder nicht unterstützte Objekteigenschaften, "ausblendet".</p>
</div>
<div class="paragraph">
<p>Neben der Weglassung von fachlich nicht benötigten GML-Strukturen wurde auch eine Reihe von zusätzlichen Festlegungen zur Verwendung von GML in der NAS getroffen. Ziel ist die Beschränkung von Freiräumen der Codierung, sodass die Verarbeitung von NAS-Dokumenten erleichtert wird:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Bei GML-Objekten, die neben der Verwendung von normalen auch Array-Eigenschaften erlauben, wurde eine der Varianten, i.d.R. die Array-Eigenschaften, gestrichen.</p>
</li>
<li>
<p>Bei der Darstellung von GM_PolyhedralSurface in den Daten wird die Verwendung von gml:Surface mit genau einem gml:PolygonPatch vorgeschrieben. (gml:Polygon darf in diesen Fällen nicht verwendet werden und ist ausschließlich in Filterausdrücken erlaubt.)</p>
</li>
<li>
<p>Da die Mehrzahl der unter Verwendung von GM_MultiSurface definierten Flächenobjekte (z.B. Flurstücke) aus lediglich einer einzigen Fläche bestehen, wird vorgeschrieben, dass bei einer einzigen Fläche stets gml:AbstractSurface zu verwenden ist und die Verwendung von gml:MultiSurface nur bei mehreren getrennten Flächen erlaubt ist.</p>
</li>
<li>
<p>Bei der Darstellung von GM_Ring in den Daten wird die Verwendung von gml:Ring mit gml:Curve vorgeschrieben (gml:LinearRing darf in diesen Fällen nicht verwendet werden und ist ausschließlich in Filterausdrücken erlaubt).</p>
</li>
<li>
<p>Für Koordinatenangaben muss gml:pos (bei gml:Point) bzw. gml:posList (bei anderen Geometrieobjekten) verwendet werden.</p>
</li>
<li>
<p>Die Standardeigenschaften von GML-Objekten "gml:name" und "gml:description" dürfen nur in GML-Dictionaries verwendet werden, nicht in Eigenschaften von Objekten im Namespace der NAS.</p>
</li>
<li>
<p>Bei GMD-Objekten ist bei der Abbildung der DQ-Element in der NAS als gmd:LI_Lineage-Elemente folgendes zu beachten:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Es darf nur das Element gmd:processStep enthalten sein</p>
</li>
<li>
<p>Das Element muss mindestens einmal vorkommen</p>
</li>
<li>
<p>Das Element darf maximal so oft vorkommen, wie im konzeptuellen Modell beschrieben (d.h. in der Regel einmal, bis auf in AX_DQPunktort, dort zweimal).</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Es ist zu beachten, dass die Schemadatei des Profils (gmlProfileNAS.xsd) standardmäßig nicht zum Validieren verwendet wird (aufgrund der Regeln, wie in XML Schema die schemaLocation-Attribute interpretiert werden). Um Fehlinterpretationen auszuschließen wurde auch der Namespace der Schemadatei des GML-Profils auf einen anderen Namespace als den von XML Schema geändert. Sofern lokal die Schemadatei zu Validierungszwecken verwendet werden soll, ist der Dateiinhalt entsprechend anzupassen.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-05-20 09:39:07 UTC
</div>
</div>
</body>
</html>